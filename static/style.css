/* =========================================================
   Sanctuaire Ankaa — style mobile complet (V10.2)
   - mobile-first (iPhone 13 Pro Max & autres)
   - fond cosmique + œil d’Horus
   - titre sur une seule ligne
   ========================================================= */

/* --------- Variables & reset --------- */
:root{
  --gold: #FFE08A;
  --gold-2: #FFD35A;
  --ink: #0b0b0b;
  --smoke: rgba(0,0,0,.35);
  --veil: rgba(12,12,20,.58);
  --blur: blur(10px);
  --ring: 0 0 0 1px rgba(255,224,138,.2), 0 8px 20px rgba(0,0,0,.45);
  --ring-strong: 0 0 0 1px rgba(255,224,138,.25), 0 10px 30px rgba(0,0,0,.6);
  --radius: 18px;
  --vh: 1vh; /* corrigé par JS */
}

*{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
html,body{ margin:0; padding:0; height:100%; overflow:hidden; }
button{ font:inherit; background:none; border:none; color:inherit; }

/* --------- Fond --------- */
body{
  color: var(--gold);
  background:
    radial-gradient(1200px 700px at 50% -20%, rgba(255,224,138,.18), transparent 60%),
    #000 url("/static/assets/fond_cosmique.jpg") center top / cover no-repeat fixed;
}

/* --------- En-tête --------- */
#en-tete{
  position:relative;
  z-index:5;
  padding: calc(8px + env(safe-area-inset-top)) 14px 4px;
  text-align:center;
  background: linear-gradient(to bottom, rgba(0,0,0,.45), transparent 70%);
}

.titre-sacre{
  margin: 0 auto 4px;
  font-weight: 800;
  letter-spacing: .10em;
  text-transform: uppercase;
  text-shadow: 0 0 10px #000, 0 0 36px rgba(255,224,138,.55);
  white-space: nowrap;            /* ← UNE seule ligne */
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: min(92vw, 720px);
  font-size: clamp(18px, 4.6vw, 30px);
}
.sous-titre{
  margin: 2px auto 6px;
  max-width: min(88vw, 680px);
  font-style: italic;
  opacity: .85;
  font-size: clamp(12px, 3.4vw, 16px);
}

/* Bouton Sanctuaire (en haut-droite, sous le titre) */
#bouton-sanctuaire{
  position: fixed;
  right: 12px;
  top: calc(64px + env(safe-area-inset-top));
  width: 46px; height: 46px; border-radius: 50%;
  display: grid; place-items:center;
  background: rgba(26,22,10,.65);
  color: var(--gold);
  box-shadow: var(--ring);
  z-index: 60;
  transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
}
#bouton-sanctuaire:active{ transform: scale(.96); }
#bouton-sanctuaire:hover{ background: rgba(40,34,14,.78); box-shadow: var(--ring-strong); }

/* --------- Œil d’Horus & aura (si présent dans le HTML) --------- */
.oeil-centre{
  position: absolute; left: 50%; transform: translateX(-50%);
  top: clamp(84px, 11vw, 130px);
  width: clamp(160px, 56vw, 420px);
  height: clamp(88px, 18vw, 140px);
  background: url("/static/assets/oeil_orus_ailes.png") center/contain no-repeat;
  filter: drop-shadow(0 6px 18px rgba(255,224,138,.2));
  pointer-events: none;
  z-index: 4;
}
#aura-ankaa{
  position:absolute; inset:0; pointer-events:none; z-index:3;
  background:
    radial-gradient(600px 320px at 50% 10%, rgba(255,224,138,.08), transparent 70%),
    radial-gradient(800px 600px at 50% 20%, rgba(255,224,138,.06), transparent 78%);
  opacity:.0; transition: opacity .35s ease;
}
#aura-ankaa.active{ opacity: 1; animation: pulse-aura 2.4s ease-in-out infinite; }
@keyframes pulse-aura{
  0%,100%{ filter: saturate(1) brightness(1); }
  50%{ filter: saturate(1.15) brightness(1.12); }
}

/* --------- Zone d’invocation (bas d’écran) --------- */
#zone-invocation{
  position: fixed;
  left: 0; right: 0;
  bottom: calc(6px + env(safe-area-inset-bottom));
  padding: 0 12px;
  display: grid;
  grid-template-columns: 1fr 54px;
  gap: 10px;
  z-index: 55;
}

#verbe{
  height: 52px;
  width: 100%;
  padding: 0 16px;
  border-radius: 14px;
  color: #e7e7e7;
  background: linear-gradient(180deg, rgba(12,12,16,.75), rgba(8,8,12,.78));
  border: 1px solid rgba(255,224,138,.20);
  outline: none;
  box-shadow: var(--ring);
  backdrop-filter: var(--blur);
}
#verbe::placeholder{ color: #cfc6a5; opacity:.8; }

#btn-verbe{
  height: 52px;
  border-radius: 14px;
  background: linear-gradient(180deg, #FFE08A, #E6C35A);
  color: #201602;
  font-weight: 700;
  box-shadow: 0 10px 24px rgba(255,224,138,.22);
}
#btn-verbe.active{ filter: saturate(1.15) brightness(1.05); }

/* Boutons latéraux (gauche) : Mode / Souffle / Vocal */
.stack-gauche{
  position: fixed; left: 10px; top: calc(120px + env(safe-area-inset-top));
  display: grid; gap: 14px; z-index: 50;
}
.stack-gauche .rond{
  width: 52px; height: 52px; border-radius: 50%;
  display:grid; place-items:center;
  background: rgba(20,18,12,.64);
  border: 1px solid rgba(255,224,138,.22);
  box-shadow: var(--ring);
  color: var(--gold);
  font-size: 20px;
}
.stack-gauche .rond.active{
  background: rgba(255,224,138,.9);
  color: #1c1506;
}

/* Si tu utilises les id : */
#btn-mode-mini, #btn-veille-mini, #btn-vocal{
  width: 52px; height: 52px; border-radius: 50%;
  display:grid; place-items:center;
  background: rgba(20,18,12,.64);
  border: 1px solid rgba(255,224,138,.22);
  box-shadow: var(--ring);
  color: var(--gold);
}
#btn-veille-mini.active, #btn-vocal.active{ background: rgba(255,224,138,.9); color:#1c1506; }

/* --------- Papyrus (centre/bas) --------- */
#papyrus-zone{
  position: fixed; left: 12px; right: 12px;
  bottom: calc(82px + env(safe-area-inset-bottom));
  display: none;
  padding: 18px 16px;
  background: linear-gradient(180deg, rgba(10,10,14,.78), rgba(8,8,12,.84));
  border: 1px solid rgba(255,224,138,.26);
  border-radius: var(--radius);
  box-shadow: var(--ring-strong);
  color: #F6F1D0;
  backdrop-filter: var(--blur);
  z-index: 54;
}
#papyrus-texte{
  margin:0; line-height: 1.48;
  font-size: clamp(14px, 3.8vw, 17px);
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}

/* --------- Overlay de mode --------- */
#mode-overlay{
  position: fixed; inset: 0; z-index: 70;
  display: grid; place-items: center;
  background:
    radial-gradient(800px 480px at 50% 16%, rgba(18,16,8,.82), rgba(6,6,10,.94) 58%),
    linear-gradient(180deg, rgba(0,0,0,.7), rgba(0,0,0,.92));
  transition: opacity .25s ease, visibility .25s ease;
}
.overlay-hidden{ opacity:0; visibility:hidden; pointer-events:none; }

.overlay-card{
  width: min(92vw, 620px);
  padding: 18px;
  border-radius: 20px;
  border: 1px solid rgba(255,224,138,.25);
  background: linear-gradient(180deg, rgba(12,12,16,.75), rgba(10,10,14,.88));
  box-shadow: var(--ring-strong);
}

.mode-grid{
  margin-top: 10px;
  display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
}
.mode-option{
  display: grid; place-items: center;
  padding: 14px 10px;
  min-height: 64px;
  border-radius: 14px;
  border: 1px solid rgba(255,224,138,.22);
  background: rgba(18,16,8,.62);
  color: var(--gold);
  letter-spacing: .06em; font-weight: 700;
  box-shadow: var(--ring);
  transition: transform .12s ease, background .12s ease, box-shadow .12s ease;
}
.mode-option:hover{ transform: translateY(-2px); box-shadow: var(--ring-strong); background: rgba(26,22,10,.74); }
.mode-option:active{ transform: translateY(0); }

/* --------- Audio éléments invisibles --------- */
audio{ display:none; }

/* --------- Responsiveness --------- */
@media (min-width: 420px){
  #verbe{ height: 56px; }
  #btn-verbe{ height: 56px; }
  #papyrus-texte{ font-size: 16px; }
}

/* --------- Utilitaires --------- */
.hidden{ display:none !important; }
